<template>
  <header class="text-forest-green bg-lint p-2">
    <div
      class="xl:w-9/12 mx-auto flex justify-between items-center p-0 bg-transparent border-none"
    >
      <div>
        <nuxt-link class="flex" to="/">
          <svg
            class="mr-2"
            height="50px"
            width="50px"
            version="1.1"
            id="Layer_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 0 512.001 512.001"
            xml:space="preserve"
          >
            <g>
              <path
                style="fill: #478c5c"
                d="M252.293,432.283c-26.896,0-52.118-10.41-71.02-29.311L29.369,251.069
      c-39.159-39.16-39.159-102.879,0-142.04c18.902-18.902,44.124-29.313,71.02-29.313s52.118,10.41,71.02,29.313l24.37,24.37
      c5.135,5.135,5.136,13.461,0,18.596s-13.461,5.136-18.596,0l-24.371-24.37c-13.934-13.936-32.553-21.61-52.424-21.61
      s-38.49,7.674-52.423,21.608c-28.906,28.906-28.906,75.94,0,104.848l151.903,151.903c13.936,13.936,32.553,21.61,52.424,21.61
      s38.488-7.674,52.423-21.608c28.906-28.906,28.906-75.94,0-104.847c-5.135-5.135-5.135-13.461,0-18.597
      c5.136-5.135,13.46-5.135,18.597,0c18.901,18.902,29.311,44.124,29.311,71.02c0,26.896-10.41,52.118-29.311,71.02
      C304.411,421.873,279.189,432.283,252.293,432.283z"
              />
              <path
                style="fill: #478c5c"
                d="M189.359,315.175c-3.365,0-6.731-1.283-9.298-3.851c-5.135-5.135-5.135-13.461,0-18.597
      l33.009-33.009c5.135-5.135,13.461-5.135,18.597,0c5.135,5.135,5.135,13.461,0,18.597l-33.009,33.009
      C196.089,313.892,192.724,315.175,189.359,315.175z"
              />
              <path
                style="fill: #013a20"
                d="M130.316,256.133c-3.365,0-6.73-1.283-9.298-3.851c-5.135-5.135-5.136-13.461,0-18.596
      l33.008-33.009c5.135-5.135,13.461-5.136,18.596,0c5.135,5.136,5.136,13.461,0,18.596l-33.008,33.009
      C137.047,254.848,133.681,256.133,130.316,256.133z"
              />
              <path
                style="fill: #478c5c"
                d="M259.766,432.341c-25.72,0-51.44-9.79-71.02-29.369c-39.16-39.16-39.16-102.879,0-142.04
      L340.649,109.03c39.16-39.159,102.879-39.16,142.041,0c18.901,18.902,29.311,44.124,29.311,71.02s-10.41,52.118-29.311,71.02
      l-24.37,24.37c-5.136,5.136-13.46,5.136-18.597,0c-5.135-5.135-5.135-13.461,0-18.596l24.37-24.37
      c28.906-28.906,28.906-75.94,0-104.847c-28.905-28.906-75.942-28.904-104.847,0L207.342,279.528
      c-28.906,28.906-28.906,75.94,0,104.847c28.905,28.905,75.94,28.908,104.847,0c5.136-5.136,13.46-5.136,18.597,0
      c5.135,5.135,5.135,13.461,0,18.596C311.205,422.552,285.486,432.341,259.766,432.341z"
              />
            </g>
            <path
              style="fill: #cdd193"
              d="M275.466,192.81l-77.421,77.421c-33.946,33.946-33.946,89.496,0,123.442l0,0
    c33.946,33.946,89.496,33.946,123.442,0l77.422-77.421L275.466,192.81z"
            />
            <g>
              <path
                style="fill: #478c5c"
                d="M259.766,432.283c-26.896,0-52.118-10.41-71.02-29.311c-39.16-39.16-39.16-102.879,0-142.04
      l77.421-77.422c5.136-5.135,13.46-5.135,18.597,0l123.444,123.442c2.466,2.466,3.851,5.811,3.851,9.298
      c0,3.487-1.386,6.832-3.851,9.298l-77.422,77.421C311.884,421.873,286.662,432.283,259.766,432.283z M275.466,211.405
      l-68.123,68.124c-28.906,28.906-28.906,75.94,0,104.847c13.934,13.934,32.553,21.608,52.424,21.608
      c19.87,0,38.49-7.674,52.423-21.608l68.124-68.124L275.466,211.405z"
              />
              <path
                style="fill: #013a20"
                d="M322.699,315.175c-3.366,0-6.73-1.283-9.298-3.851l-33.008-33.009
      c-5.135-5.135-5.135-13.461,0-18.596c5.139-5.134,13.462-5.135,18.597,0l33.008,33.009c5.135,5.135,5.135,13.461,0,18.596
      C329.43,313.892,326.064,315.175,322.699,315.175z"
              />
              <path
                style="fill: #013a20"
                d="M381.744,256.133c-3.366,0-6.73-1.283-9.298-3.851l-33.009-33.009
      c-5.135-5.135-5.135-13.461,0-18.597c5.136-5.135,13.46-5.135,18.597,0l33.009,33.009c5.135,5.135,5.135,13.461,0,18.597
      C388.473,254.85,385.108,256.133,381.744,256.133z"
              />
            </g>
          </svg>
          <div class="hidden xs:block">
            <h4 class="font-bold">SAG-BOL</h4>
            <p class="text-sm">Iň amatly bahadan tap!</p>
          </div>
        </nuxt-link>
      </div>
      <div>
        <div class="bg-lint-1 py-2.5 px-5 rounded-lg shadow-md font-bold">
          <i class="pi pi-map-marker"></i>
          Aşgabat
        </div>
      </div>
      <div>
        <nav>
          <ul class="flex">
            <nuxt-link
              to="https://meteo.gov.tm"
              target="_blank"
              title="Howa maglumaty"
              class="px-2 text-emerald-green"
            >
              <i class="pi pi-cloud text-xl"></i>
            </nuxt-link>
            <li class="px-2" title="Şu günki sene">
              <i class="pi pi-calendar text-xl text-emerald-green"></i>
              {{ headerDate }}
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <section
    class="p-2 text-forest-green sticky top-0 bg-white shadow-md z-10 transition-all duration-150 ease-in-out"
  >
    <div
      class="px-3 xl:w-9/12 mx-auto flex justify-between items-center gap-10 p-0 bg-transparent border-none relative"
    >
      <button
        ref="categoryButton"
        class="py-2.5 px-5 rounded-lg bg-white transition-colors duration-150 ease-in-out hover:bg-lint-1 outline-none hidden lg:block"
        :class="{ lint: isMenuVisible }"
        @click="openToggler('isMenuVisible')"
      >
        <i class="pi pi-th-large"></i>
        Kategoriýalar
      </button>
      <button
        ref="categoryButton"
        class="py-2.5 px-5 rounded-lg bg-white transition-colors duration-150 ease-in-out hover:bg-lint-1 outline-none hidden xs:block lg:hidden"
        :class="{ lint: isMenuVisible }"
        @click="openToggler('isMenuVisible')"
      >
        <i class="pi pi-th-large text-lg text-emerald-green"></i>
      </button>
      <div class="flex-1">
        <span
          class="flex items-center bg-search border rounded-xl px-5 relative"
        >
          <input
            ref="searchInput"
            v-model="searchQuery"
            @click="isSearchVisible = true"
            @input="search"
            @keydown.enter="navigate"
            type="text"
            placeholder="Gözleg ..."
            class="w-full py-2 border-none outline-none bg-search placeholder:text-forest-green text-forest-green"
          />
          <div class="flex gap-5 items-center">
            <i
              v-if="searchQuery !== ''"
              class="pi pi-times"
              style="color: #478c5c"
              @click="clearInput"
            ></i>
            <button class="bg-lint py-1 px-5 rounded-lg" @click="navigate">
              <i class="pi pi-search" style="color: #478c5c"></i>
            </button>
          </div>

          <!-- Search div -->
          <div
            class="bg-white absolute top-12 w-full left-0 overflow-y-scroll rounded opacity-0 transition-opacity duration-300 ease-in-out invisible"
            :class="{
              'opacity-100 !visible': isSearchVisible && searchItems.length > 0,
            }"
          >
            <nav ref="closeSearch" class="p-3">
              <ul>
                <UiSearch
                  v-for="searchItem in searchItems"
                  :key="searchItem.id"
                  :id="searchItem.id"
                  :title="searchItem.title"
                  :price="searchItem.price"
                  :pharmacy="searchItem.pharmacy"
                  :route="`/category/${searchItem.category}/${searchItem.subcategory}/${searchItem.id}`"
                ></UiSearch>
              </ul>
              <p class="mt-2 font-bold">Jemi: {{ searchItems.length }}</p>
            </nav>
          </div>
        </span>
      </div>

      <div class="hidden lg:block">
        <ul class="flex gap-5">
          <nuxt-link to="/">
            <i
              class="pi pi-globe"
              style="font-size: 1.3rem; color: #478c5c"
            ></i>
          </nuxt-link>
          <button
            ref="signInButton"
            class="flex gap-1 cursor-pointer"
            @click="openToggler('isSignInOpen')"
          >
            Içeri gir
            <i
              class="pi pi-sign-in"
              style="font-size: 1.3rem; color: #478c5c"
            ></i>
          </button>
          <nuxt-link to="/shoppingCart" class="flex gap-1">
            <i
              class="pi pi-shopping-cart"
              style="font-size: 1.3rem; color: #478c5c"
            ></i>
          </nuxt-link>
          <nuxt-link to="/wishList" class="flex gap-1">
            <i
              class="pi pi-heart"
              style="font-size: 1.3rem; color: #478c5c"
            ></i>
          </nuxt-link>
          <nuxt-link to="/aboutMedicine"
            ><i class="pi pi-book" style="font-size: 1.3rem; color: #478c5c"></i
          ></nuxt-link>

          <!-- Sidebar button -->
        </ul>
      </div>
      <button
        ref="sidebarButton"
        class="hidden xs:block lg:hidden gap-1 cursor-pointer"
        @click="openToggler('isSidebarVisible')"
      >
        <i
          class="pi pi-align-right"
          style="font-size: 1.3rem; color: #478c5c"
        ></i>
      </button>
    </div>

    <!-- Сategory div -->
    <div
      class="hidden xs:block absolute left-0 right-0 h-screen backdrop-blur opacity-0 invisible transition-opacity duration-300 ease-in-out"
      :class="{ 'opacity-100 !visible': isMenuVisible }"
    >
      <nav
        ref="categoryContainer"
        class="xl:w-9/12 mx-auto flex absolute shadow-md py-10 overflow-y-scroll h-72 left-0 right-0 bg-white"
      >
        <ul class="flex flex-col gap-2 border-r px-5 relative">
          <nuxt-link
            @click="closeToggler('isMenuVisible')"
            :to="`/${category.category}`"
            class="flex justify-between items-center border rounded-md px-3 py-1 transition-colors ease-in-out border-emerald-green hover:bg-lint-1"
            v-for="(category, index) in categories"
            :key="index"
            @mouseover="showSubMenu(index)"
          >
            <span class="flex gap-1 hover:text-emerald-green">
              <img :src="category.icon" alt="Category icon" />
              {{ category?.label }}
            </span>
            <i class="pi pi-chevron-right"></i>
            <ul
              v-if="isSubMenuVisible && index === activeIndex"
              class="flex flex-col gap-2 absolute left-80 top-0 w-full"
            >
              <h1
                class="text-xl font-bold transition-colors ease-in-out hover:text-emerald-green"
              >
                {{ category.label }}
              </h1>
              <nuxt-link
                :to="`/${category.category}/${subCategory.subcategory}`"
                class="transition-colors ease-in-out hover:text-emerald-green"
                v-for="(subCategory, subIndex) in category.items"
                :key="subIndex"
              >
                {{ subCategory.title }}
              </nuxt-link>
            </ul>
          </nuxt-link>
        </ul>
      </nav>
    </div>

    <!-- Mobile Category div -->
    <div
      class="h-screen bg-white fixed top-0 bottom-0 left-0 right-0 py-5 opacity-0 invisible transition-opacity duration-300 ease-in-out xs:hidden"
      :class="{ 'opacity-100 !visible': isMenuVisible }"
    >
      <nav>
        <ul class="flex py-10 px-3 gap-2 flex-col">
          <nuxt-link
            v-for="category in categories"
            :to="`/${category.category}`"
            class="flex justify-between items-center text-xl border rounded-lg border-emerald-green p-1"
            >{{ category.label }} <i class="pi pi-chevron-right"></i
          ></nuxt-link>
        </ul>
      </nav>
      <i
        class="absolute text-emerald-green p-1 top-2 right-2 rounded-full border border-emerald-green pi pi-times"
        @click="closeToggler('isMenuVisible')"
      ></i>
    </div>
    <!-- Sign In div -->
    <div
      ref="signIn"
      class="bg-black/30 fixed top-0 left-0 right-0 h-screen z-20 opacity-0 invisible transition-opacity duration-300 ease-in-out"
      :class="{ 'opacity-100 !visible': isSignInOpen }"
    >
      <SignIn @close-menu="closeToggler('isSignInOpen')"></SignIn>
    </div>

    <div
      ref="sidebarContainer"
      class="bg-black/30 fixed top-0 bottom-0 left-0 right-0 h-screen opacity-0 invisible transition-opacity duration-300 ease-in-out"
      :class="{ 'opacity-100 !visible': isSidebarVisible }"
    >
      <Sidebar :class="{ 'translate-x-0': isSidebarVisible }"></Sidebar>
    </div>
    <ScrollTop></ScrollTop>
  </section>

  <slot />

  <!-- footer -->

  <footer class="bg-lint hidden xs:block">
    <div class="container flex flex-wrap py-10">
      <div class="flex w-1/3">
        <svg
          class="mr-2"
          height="50px"
          width="50px"
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 512.001 512.001"
          xml:space="preserve"
        >
          <g>
            <path
              style="fill: #478c5c"
              d="M252.293,432.283c-26.896,0-52.118-10.41-71.02-29.311L29.369,251.069
		c-39.159-39.16-39.159-102.879,0-142.04c18.902-18.902,44.124-29.313,71.02-29.313s52.118,10.41,71.02,29.313l24.37,24.37
		c5.135,5.135,5.136,13.461,0,18.596s-13.461,5.136-18.596,0l-24.371-24.37c-13.934-13.936-32.553-21.61-52.424-21.61
		s-38.49,7.674-52.423,21.608c-28.906,28.906-28.906,75.94,0,104.848l151.903,151.903c13.936,13.936,32.553,21.61,52.424,21.61
		s38.488-7.674,52.423-21.608c28.906-28.906,28.906-75.94,0-104.847c-5.135-5.135-5.135-13.461,0-18.597
		c5.136-5.135,13.46-5.135,18.597,0c18.901,18.902,29.311,44.124,29.311,71.02c0,26.896-10.41,52.118-29.311,71.02
		C304.411,421.873,279.189,432.283,252.293,432.283z"
            />
            <path
              style="fill: #478c5c"
              d="M189.359,315.175c-3.365,0-6.731-1.283-9.298-3.851c-5.135-5.135-5.135-13.461,0-18.597
		l33.009-33.009c5.135-5.135,13.461-5.135,18.597,0c5.135,5.135,5.135,13.461,0,18.597l-33.009,33.009
		C196.089,313.892,192.724,315.175,189.359,315.175z"
            />
            <path
              style="fill: #013a20"
              d="M130.316,256.133c-3.365,0-6.73-1.283-9.298-3.851c-5.135-5.135-5.136-13.461,0-18.596
		l33.008-33.009c5.135-5.135,13.461-5.136,18.596,0c5.135,5.136,5.136,13.461,0,18.596l-33.008,33.009
		C137.047,254.848,133.681,256.133,130.316,256.133z"
            />
            <path
              style="fill: #478c5c"
              d="M259.766,432.341c-25.72,0-51.44-9.79-71.02-29.369c-39.16-39.16-39.16-102.879,0-142.04
		L340.649,109.03c39.16-39.159,102.879-39.16,142.041,0c18.901,18.902,29.311,44.124,29.311,71.02s-10.41,52.118-29.311,71.02
		l-24.37,24.37c-5.136,5.136-13.46,5.136-18.597,0c-5.135-5.135-5.135-13.461,0-18.596l24.37-24.37
		c28.906-28.906,28.906-75.94,0-104.847c-28.905-28.906-75.942-28.904-104.847,0L207.342,279.528
		c-28.906,28.906-28.906,75.94,0,104.847c28.905,28.905,75.94,28.908,104.847,0c5.136-5.136,13.46-5.136,18.597,0
		c5.135,5.135,5.135,13.461,0,18.596C311.205,422.552,285.486,432.341,259.766,432.341z"
            />
          </g>
          <path
            style="fill: #cdd193"
            d="M275.466,192.81l-77.421,77.421c-33.946,33.946-33.946,89.496,0,123.442l0,0
	c33.946,33.946,89.496,33.946,123.442,0l77.422-77.421L275.466,192.81z"
          />
          <g>
            <path
              style="fill: #478c5c"
              d="M259.766,432.283c-26.896,0-52.118-10.41-71.02-29.311c-39.16-39.16-39.16-102.879,0-142.04
		l77.421-77.422c5.136-5.135,13.46-5.135,18.597,0l123.444,123.442c2.466,2.466,3.851,5.811,3.851,9.298
		c0,3.487-1.386,6.832-3.851,9.298l-77.422,77.421C311.884,421.873,286.662,432.283,259.766,432.283z M275.466,211.405
		l-68.123,68.124c-28.906,28.906-28.906,75.94,0,104.847c13.934,13.934,32.553,21.608,52.424,21.608
		c19.87,0,38.49-7.674,52.423-21.608l68.124-68.124L275.466,211.405z"
            />
            <path
              style="fill: #013a20"
              d="M322.699,315.175c-3.366,0-6.73-1.283-9.298-3.851l-33.008-33.009
		c-5.135-5.135-5.135-13.461,0-18.596c5.139-5.134,13.462-5.135,18.597,0l33.008,33.009c5.135,5.135,5.135,13.461,0,18.596
		C329.43,313.892,326.064,315.175,322.699,315.175z"
            />
            <path
              style="fill: #013a20"
              d="M381.744,256.133c-3.366,0-6.73-1.283-9.298-3.851l-33.009-33.009
		c-5.135-5.135-5.135-13.461,0-18.597c5.136-5.135,13.46-5.135,18.597,0l33.009,33.009c5.135,5.135,5.135,13.461,0,18.597
		C388.473,254.85,385.108,256.133,381.744,256.133z"
            />
          </g>
        </svg>
        <span class="flex flex-col">
          <h3 class="font-bold">SAG-BOL</h3>
          <p>Iň amatly bahadan tap!</p>
        </span>
      </div>

      <nav class="flex justify-between gap-10 flex-1">
        <ul class="flex flex-col">
          <h1 class="font-bold text-lg mb-1">Biz barada</h1>
          <nuxt-link
            to="/aboutUs"
            class="cursor-pointer text-md mb-1 hover:text-emerald-green transition-colors ease-in-out"
          >
            Biz barada
          </nuxt-link>
          <nuxt-link
            to="/delivery"
            class="cursor-pointer text-md mb-1 hover:text-emerald-green transition-colors ease-in-out"
          >
            Eltip bermek we tölemek
          </nuxt-link>
          <nuxt-link
            to="/privacyPolicy"
            class="cursor-pointer text-md mb-1 hover:text-emerald-green transition-colors ease-in-out"
          >
            Ulanyş düzgünleri we gizlinlik ýörelgesi
          </nuxt-link>
          <nuxt-link
            to="/partnership"
            class="cursor-pointer text-md hover:text-emerald-green transition-colors ease-in-out"
          >
            Hyzmatdaşlyk
          </nuxt-link>
        </ul>

        <ul>
          <h1 class="font-bold text-lg">Habarlaşmak</h1>
          <li
            class="cursor-pointer text-md mb-1 hover:text-emerald-green transition-colors ease-in-out"
          ></li>
          <li
            class="cursor-pointer text-md mb-1 hover:text-emerald-green transition-colors ease-in-out"
          >
            E-poçtalarymyz: megamaster8856@gmail.com
          </li>
          <li
            class="cursor-pointer text-md hover:text-emerald-green transition-colors ease-in-out"
          >
            Habarlaşmak: +99364028855
          </li>
        </ul>
      </nav>
    </div>
    <div class="text-center border-t py-4">
      <p class="text-sm">
        @ Ähli hukuklar goraglydyr - {{ footerYear }}. SAG-BOL.com
      </p>
    </div>
  </footer>
  <footer class="bg-lint px-3 py-2 sticky bottom-0 xs:hidden">
    <nav>
      <ul class="flex justify-between">
        <li @click="openToggler('isMenuVisible')" ref="mobileCategory">
          <i class="pi pi-th-large text-2xl text-emerald-green"></i>
        </li>
        <nuxt-link to="/wishList"
          ><i class="pi pi-heart text-2xl text-emerald-green"></i
        ></nuxt-link>
        <nuxt-link to="/shoppingCart"
          ><i class="pi pi-shopping-cart text-2xl text-emerald-green"></i
        ></nuxt-link>
        <li @click="openToggler('isSidebarVisible')">
          <i class="pi pi-align-right text-2xl text-emerald-green"></i>
        </li>
      </ul>
    </nav>
  </footer>
</template>

<script setup>
// All items store
const allItemsStore = useAllItems();
const { searchItems } = storeToRefs(allItemsStore);

// Search
const searchQuery = ref("");
function search() {
  isSearchVisible.value = true;
  allItemsStore.searchByInput(searchQuery.value);
}

function navigate() {
  if (searchItems.value !== null) {
    useRouter().push({ path: "/searchPage" });
    isSearchVisible.value = false;
    searchQuery.value = "";
  }
}
function clearInput() {
  searchQuery.value = "";
  allItemsStore.clearSearch();
  isSearchVisible.value = false;
}
const closeSearch = ref(null);
const searchInput = ref(null);

// Togglers store
const togllersStore = useTogglers();
const {
  isSidebarVisible,
  isSignInOpen,
  isSearchVisible,
  isMenuVisible,
  isSubMenuVisible,
  activeIndex,
  shoppingButton,
} = storeToRefs(togllersStore);
function showSubMenu(index) {
  isSubMenuVisible.value = true;
  activeIndex.value = index;
}

// Sign In
const signIn = ref(null);
const signInButton = ref(null);

function openToggler(toggler) {
  const togglerName = eval(toggler);
  togglerName.value = true;
  document.body.classList.add("overflow-hidden");
}
function closeToggler(toggler) {
  const togglerName = eval(toggler);
  togglerName.value = false;
  document.body.classList.contains("overflow-hidden")
    ? document.body.classList.remove("overflow-hidden")
    : "";
}
// Sidebar
const sidebarButton = ref(null);
const sidebarContainer = ref(null);

// Categories store
const categoriesStore = useCategories();
const { categories } = storeToRefs(categoriesStore);
const categoryButton = ref(null);
const categoryContainer = ref(null);
const mobileCategory = ref(null);

// Date for header
const headerDate = new Date().toLocaleDateString();

// Year for footer
const footerYear = new Date().getFullYear();

onMounted(() => {
  const closeCategoryOnOutsideClick = (event) => {
    if (
      categoryContainer.value &&
      !categoryContainer.value.contains(event.target) &&
      !categoryButton.value.contains(event.target) &&
      !mobileCategory.value.contains(event.target)
    ) {
      closeToggler("isMenuVisible");
    }
  };
  const closeSearchOnOutsideClick = (event) => {
    if (
      closeSearch.value &&
      !closeSearch.value.contains(event.target) &&
      !searchInput.value.contains(event.target) &&
      !shoppingButton.value.contains(event.target)
    ) {
      isSearchVisible.value = false;
    }
  };
  const closeSignInOnOutsideClick = (event) => {
    if (
      signIn.value &&
      signIn.value.contains(event.target) &&
      !signInButton.value.contains(event.target)
    ) {
      closeToggler("isSignInOpen");
    }
  };
  const closeSidebarOnOutsideClick = (event) => {
    if (
      sidebarContainer.value &&
      !sidebarButton.value.contains(event.target) &&
      sidebarContainer.value.contains(event.target)
    ) {
      closeToggler("isSidebarVisible");
    }
  };

  document.addEventListener("click", closeSearchOnOutsideClick);
  document.addEventListener("click", closeCategoryOnOutsideClick);
  document.addEventListener("click", closeSignInOnOutsideClick);
  document.addEventListener("click", closeSidebarOnOutsideClick);

  return () => {
    document.removeEventListener("click", closeSearchOnOutsideClick);
    document.removeEventListener("click", closeCategoryOnOutsideClick);
    document.removeEventListener("click", closeSignInOnOutsideClick);
    document.removeEventListener("click", closeSidebarOnOutsideClick);
  };
});
</script>
